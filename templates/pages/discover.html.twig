{% extends "base.html.twig" %}
{% block content %}
    <h1>Découvrez de nouveaux artistes</h1>
    <p>Commencez à chercher vos genres de musiques favoris pour générer une playlist personnalisée. Vous pouvez ensuite ajouter cette playlist à votre compte Spotify !<br>Attention, la génération d'une playlist peut prendre un peu de temps...</p>
	<div class="row">
		<div class="col-8">
			<input type="text" class="inputSearchGenre" placeholder="Rechercher un genre...">
			<div class="selection"></div>
			<ul class="genreResult">
                {% for genre in jsConfig.genres %}
                    <li class="genre" id="genre{{ genre.id }}" data-id="{{ genre.id }}">{{ genre.name }}</li>
                {% endfor %}
            </ul>
		    <div id="loader"></div>
		    <div class="playlistResult"></div>
		</div>
		<div class="col-4">
			<!-- https://codepen.io/Aoyue/pen/rLExYX -->
            <div class="row justify-content-around">
                <div class="col-5">
                    <div class="select-discover">
                        <select id="nbTracks">
                			<option value="25">25 chansons</option>
                			<option value="50">50 chansons</option>
                			<option value="100">100 chansons</option>
                			<option value="150">150 chansons</option>
                			<option value="200">200 chansons</option>
                		</select>
                    </div>
                </div>
                <div class="col-7">
    	             <button class="btn btn-primary generate" disabled>Générer</button>
                </div>
            </div>
			<div class="save">
                <form action="{{ saveIntoPlaylistUrl }}" id="saveIntoPlaylist" method="POST">
    				<input name="playlistName" type="text" class="playlistName" placeholder="Nom de la playlist" required><br>
    				<button type="submit" class="btn btn-primary saveIntoPlaylist" title="Générez d'abord une playlist" disabled>
                        <img src="{{ asset('build/images/Spotify_Icon_RGB_Black.png') }}" alt="Spotify logo">Enregistrer dans la playlist
    				</button>
                </form>
			</div>
		</div>
	</div>
    <div class="feedback">
        <div class="alert alert-success"></div>
    </div>
{% endblock %}
{% block footer %}
	<script>genreManager({{ jsConfig|json_encode|raw }});</script>
{% endblock %}
